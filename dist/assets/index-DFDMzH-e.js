import{d as y,r as c,o as r,c as u,a as n,F as w,b as C,_ as L}from"./index-CGnOCQZ6.js";const B={class:"index-box"},I={class:"box"},R={class:"show-img"},U=["src"],E={class:"img-list"},F=["onClick"],j=["src"],O=y({__name:"index",setup($){const p=c(),v=c(),d=c(),m=c(1),l=c([]),i=c(),h=(e,s=0)=>new Promise(a=>{const t=document.createElement("video");t.src=URL.createObjectURL(e),t.currentTime=s,t.muted=!0,t.autoplay=!0,t.oncanplay=()=>{const o=document.createElement("canvas");o.width=t.videoWidth,o.height=t.videoHeight;const _=o.getContext("2d");if(!_)return a(null);_.drawImage(t,0,0,o.width,o.height),o.toBlob(x=>{const k=URL.createObjectURL(x);a(k)})}}),f=e=>{d.value=e.target.files[0]},g=e=>{m.value=e.target.value},b=async()=>{for(let e=0;e<m.value;e++){const s=await h(d.value,e);if(!s)return;l.value.push(s),i.value||(i.value=l.value[0])}};return(e,s)=>(r(),u("div",B,[n("div",I,[n("input",{type:"file",class:"file-btn",ref_key:"inp",ref:p,onInput:f},null,544),n("input",{type:"number",class:"num",placeholder:"请输入获取多少帧的图",ref_key:"inp2",ref:v,onInput:g},null,544),n("button",{class:"btn",onClick:s[0]||(s[0]=a=>b())},"Start")]),n("div",R,[n("img",{src:i.value,alt:""},null,8,U)]),n("div",E,[(r(!0),u(w,null,C(l.value,(a,t)=>(r(),u("div",{class:"item",key:t,onClick:o=>i.value=a},[n("img",{src:a,alt:""},null,8,j)],8,F))),128))])]))}}),N=L(O,[["__scopeId","data-v-b222ecb5"]]);export{N as default};
